{
   "dashboard" : {
      "annotations" : {
         "list" : [
            {
               "builtIn" : 1,
               "datasource" : "-- Grafana --",
               "enable" : true,
               "hide" : true,
               "iconColor" : "rgba(0, 211, 255, 1)",
               "limit" : 100,
               "name" : "Annotations & Alerts",
               "showIn" : 0,
               "target" : {
                  "limit" : 100,
                  "matchAny" : false,
                  "tags" : [],
                  "type" : "dashboard"
               },
               "type" : "dashboard"
            }
         ]
      },
      "description" : "Display system measurements and observations captured by Gomon",
      "editable" : true,
      "fiscalYearStartMonth" : 0,
      "gnetId" : null,
      "graphTooltip" : 1,
      "id" : null,
      "links" : [],
      "liveNow" : false,
      "panels" : [
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "thresholds"
                  },
                  "mappings" : [
                     {
                        "options" : {
                           "" : {
                              "text" : ""
                           }
                        },
                        "type" : "value"
                     }
                  ],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "dark-blue",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "dateTimeAsIso"
               },
               "overrides" : []
            },
            "gridPos" : {
               "h" : 1,
               "w" : 5,
               "x" : 5,
               "y" : 0
            },
            "id" : 14,
            "options" : {
               "colorMode" : "background",
               "graphMode" : "none",
               "justifyMode" : "auto",
               "orientation" : "auto",
               "reduceOptions" : {
                  "calcs" : [],
                  "fields" : "",
                  "values" : false
               },
               "text" : {
                  "titleSize" : 12,
                  "valueSize" : 12
               },
               "textMode" : "value_and_name"
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "(time()-gomon_system_uptime_seconds)*1000",
                  "format" : "time_series",
                  "instant" : false,
                  "interval" : "",
                  "legendFormat" : "Boottime (UTC):",
                  "refId" : "A"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "type" : "stat"
         },
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "thresholds"
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "dark-blue",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "dtdhms"
               },
               "overrides" : []
            },
            "gridPos" : {
               "h" : 1,
               "w" : 3,
               "x" : 10,
               "y" : 0
            },
            "id" : 12,
            "options" : {
               "colorMode" : "background",
               "graphMode" : "none",
               "justifyMode" : "auto",
               "orientation" : "auto",
               "reduceOptions" : {
                  "calcs" : [
                     "lastNotNull"
                  ],
                  "fields" : "",
                  "values" : false
               },
               "text" : {
                  "titleSize" : 12,
                  "valueSize" : 12
               },
               "textMode" : "value_and_name"
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_uptime_seconds",
                  "format" : "time_series",
                  "interval" : "",
                  "legendFormat" : "Uptime:",
                  "refId" : "A"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "type" : "stat"
         },
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "thresholds"
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "dark-blue",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "none"
               },
               "overrides" : []
            },
            "gridPos" : {
               "h" : 1,
               "w" : 3,
               "x" : 13,
               "y" : 0
            },
            "id" : 18,
            "options" : {
               "colorMode" : "background",
               "graphMode" : "none",
               "justifyMode" : "auto",
               "orientation" : "auto",
               "reduceOptions" : {
                  "calcs" : [
                     "mean"
                  ],
                  "fields" : "",
                  "values" : false
               },
               "text" : {
                  "titleSize" : 12,
                  "valueSize" : 12
               },
               "textMode" : "value_and_name"
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_cpu_count",
                  "interval" : "",
                  "legendFormat" : "CPU Count:",
                  "refId" : "A"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "type" : "stat"
         },
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "log" : 2,
                        "type" : "log"
                     },
                     "showPoints" : "always",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "binBps"
               },
               "overrides" : [
                  {
                     "matcher" : {
                        "id" : "byRegexp",
                        "options" : "(receive|transmit).*"
                     },
                     "properties" : [
                        {
                           "id" : "custom.lineStyle",
                           "value" : {
                              "fill" : "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos" : {
               "h" : 8,
               "w" : 8,
               "x" : 16,
               "y" : 0
            },
            "id" : 4,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "hidden",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "single"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "rate(gomon_io_read_bytes[1m])/60",
                  "interval" : "",
                  "legendFormat" : "I/O read",
                  "refId" : "A"
               },
               {
                  "exemplar" : true,
                  "expr" : "rate(gomon_io_write_bytes[1m])/60",
                  "interval" : "",
                  "legendFormat" : "I/O write",
                  "refId" : "B"
               },
               {
                  "exemplar" : true,
                  "expr" : "rate(gomon_network_receive_bytes{id='en0'}[1m])/60",
                  "interval" : "",
                  "legendFormat" : "receive {{id}}",
                  "refId" : "C"
               },
               {
                  "exemplar" : true,
                  "expr" : "rate(gomon_network_transmit_bytes{id='en0'}[1m])/60",
                  "interval" : "",
                  "legendFormat" : "transmit {{id}}",
                  "refId" : "D"
               },
               {
                  "expr" : "rate(gomon_system_interface_measure_receive_bytes{id='lo0'}[1m])/60",
                  "interval" : "",
                  "legendFormat" : "receive {{id}}",
                  "refId" : "E"
               },
               {
                  "expr" : "rate(gomon_system_interface_measure_transmit_bytes{id='lo0'}[1m])/60",
                  "interval" : "",
                  "legendFormat" : "transmit {{id}}",
                  "refId" : "F"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "Network and Device I/O (log2)",
            "type" : "timeseries"
         },
         {
            "datasource" : "Prometheus",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "type" : "linear"
                     },
                     "showPoints" : "never",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "decimals" : 1,
                  "mappings" : [],
                  "min" : 0,
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "short"
               },
               "overrides" : []
            },
            "gridPos" : {
               "h" : 7,
               "w" : 8,
               "x" : 0,
               "y" : 1
            },
            "id" : 16,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "list",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "single"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_load_average_one_minute",
                  "interval" : "",
                  "legendFormat" : "load average 1",
                  "refId" : "A"
               },
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_load_average_five_minute",
                  "interval" : "",
                  "legendFormat" : "load average 5",
                  "refId" : "B"
               },
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_load_average_fifteen_minute",
                  "interval" : "",
                  "legendFormat" : "load average 15",
                  "refId" : "C"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "Load Average",
            "type" : "timeseries"
         },
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "log" : 2,
                        "type" : "log"
                     },
                     "showPoints" : "always",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "bytes"
               },
               "overrides" : []
            },
            "gridPos" : {
               "h" : 7,
               "w" : 8,
               "x" : 8,
               "y" : 1
            },
            "id" : 6,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "list",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "multi"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_memory_total_bytes",
                  "hide" : false,
                  "interval" : "",
                  "legendFormat" : "memory total",
                  "refId" : "C"
               },
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_memory_used_actual_bytes",
                  "interval" : "",
                  "legendFormat" : "memory used",
                  "refId" : "A"
               },
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_swap_total_bytes",
                  "interval" : "",
                  "legendFormat" : "swap total",
                  "refId" : "B"
               },
               {
                  "exemplar" : true,
                  "expr" : "gomon_system_swap_used_bytes",
                  "hide" : false,
                  "interval" : "",
                  "legendFormat" : "swap used",
                  "refId" : "D"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "System Memory and Swap Used (log2)",
            "type" : "timeseries"
         },
         {
            "datasource" : "Prometheus",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "log" : 2,
                        "type" : "log"
                     },
                     "showPoints" : "always",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "percentunit"
               },
               "overrides" : [
                  {
                     "matcher" : {
                        "id" : "byName",
                        "options" : "system"
                     },
                     "properties" : [
                        {
                           "id" : "custom.lineWidth",
                           "value" : 2
                        },
                        {
                           "id" : "custom.lineStyle",
                           "value" : {
                              "dash" : [
                                 10,
                                 10
                              ],
                              "fill" : "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos" : {
               "h" : 8,
               "w" : 8,
               "x" : 0,
               "y" : 8
            },
            "id" : 2,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "hidden",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "single"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "rate(gomon_system_cpu_total_seconds[1m])",
                  "interval" : "",
                  "intervalFactor" : 1,
                  "legendFormat" : "system",
                  "refId" : "A"
               },
               {
                  "exemplar" : false,
                  "expr" : "topk(5, (rate(gomon_process_total_seconds[1m])))",
                  "instant" : false,
                  "interval" : "",
                  "legendFormat" : "process {{id}}",
                  "refId" : "B"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "System and Top5 Process CPU Usage (log2)",
            "type" : "timeseries"
         },
         {
            "datasource" : "Prometheus",
            "description" : "",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "log" : 2,
                        "type" : "log"
                     },
                     "showPoints" : "always",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "bytes"
               },
               "overrides" : [
                  {
                     "matcher" : {
                        "id" : "byRegexp",
                        "options" : "resident.*"
                     },
                     "properties" : [
                        {
                           "id" : "custom.lineStyle",
                           "value" : {
                              "fill" : "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos" : {
               "h" : 8,
               "w" : 8,
               "x" : 8,
               "y" : 8
            },
            "id" : 8,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "hidden",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "single"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "topk(5, gomon_process_size_bytes)",
                  "interval" : "",
                  "legendFormat" : "virtual {{id}}",
                  "refId" : "A"
               },
               {
                  "exemplar" : true,
                  "expr" : "topk(5, gomon_process_resident_bytes)",
                  "interval" : "",
                  "legendFormat" : "resident {{id}}",
                  "refId" : "B"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "Top5 Process Res. and Virt. Memory Usage (log2)",
            "type" : "timeseries"
         },
         {
            "datasource" : "Prometheus",
            "fieldConfig" : {
               "defaults" : {
                  "color" : {
                     "mode" : "palette-classic"
                  },
                  "custom" : {
                     "axisLabel" : "",
                     "axisPlacement" : "right",
                     "barAlignment" : 0,
                     "drawStyle" : "line",
                     "fillOpacity" : 0,
                     "gradientMode" : "none",
                     "hideFrom" : {
                        "graph" : false,
                        "legend" : false,
                        "tooltip" : false,
                        "viz" : false
                     },
                     "lineInterpolation" : "linear",
                     "lineWidth" : 1,
                     "pointSize" : 3,
                     "scaleDistribution" : {
                        "log" : 2,
                        "type" : "log"
                     },
                     "showPoints" : "always",
                     "spanNulls" : true,
                     "stacking" : {
                        "group" : "A",
                        "mode" : "none"
                     },
                     "thresholdsStyle" : {
                        "mode" : "off"
                     }
                  },
                  "mappings" : [],
                  "thresholds" : {
                     "mode" : "absolute",
                     "steps" : [
                        {
                           "color" : "green",
                           "value" : null
                        }
                     ]
                  },
                  "unit" : "binBps"
               },
               "overrides" : [
                  {
                     "matcher" : {
                        "id" : "byName",
                        "options" : "system"
                     },
                     "properties" : [
                        {
                           "id" : "custom.lineWidth",
                           "value" : 2
                        },
                        {
                           "id" : "custom.lineStyle",
                           "value" : {
                              "dash" : [
                                 10,
                                 10
                              ],
                              "fill" : "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos" : {
               "h" : 8,
               "w" : 8,
               "x" : 16,
               "y" : 8
            },
            "id" : 10,
            "options" : {
               "graph" : {},
               "legend" : {
                  "calcs" : [],
                  "displayMode" : "hidden",
                  "placement" : "bottom"
               },
               "tooltip" : {
                  "mode" : "single"
               }
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "exemplar" : true,
                  "expr" : "topk(5, (rate(gomon_io_read_bytes[1m])+rate(gomon_io_write_bytes[1m])))/60",
                  "interval" : "",
                  "legendFormat" : "system",
                  "refId" : "A"
               },
               {
                  "exemplar" : true,
                  "expr" : "topk(5, (rate(gomon_process_read_actual_bytes[1m])+rate(gomon_process_write_actual_bytes[1m])))/60",
                  "interval" : "",
                  "legendFormat" : "process {{id}}",
                  "refId" : "B"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "System and Top5 Process I/O (log2)",
            "type" : "timeseries"
         },
         {
            "datasource" : "Loki",
            "gridPos" : {
               "h" : 24,
               "w" : 24,
               "x" : 0,
               "y" : 16
            },
            "id" : 22,
            "options" : {
               "dedupStrategy" : "none",
               "enableLogDetails" : true,
               "prettifyLogMessage" : false,
               "showCommonLabels" : false,
               "showLabels" : true,
               "showTime" : true,
               "sortOrder" : "Descending",
               "wrapLogMessage" : true
            },
            "pluginVersion" : "8.2.4",
            "targets" : [
               {
                  "expr" : "{source=~\"(file|log|oslog|syslog|process)\"}",
                  "legendFormat" : "",
                  "refId" : "A"
               }
            ],
            "timeFrom" : null,
            "timeShift" : null,
            "title" : "File, Log, and Process Event Stream",
            "type" : "logs"
         }
      ],
      "refresh" : "15s",
      "style" : "light",
      "tags" : [
         "gomon",
         "prometheus",
         "loki"
      ],
      "templating" : {
         "list" : []
      },
      "time" : {
         "from" : "now-15m",
         "to" : "now"
      },
      "timepicker" : {
         "refresh_intervals" : [
            "15s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
         ]
      },
      "timezone" : "",
      "title" : "Gomon Dashboard",
      "version" : 0
   },
   "meta" : {
      "canAdmin" : true,
      "canEdit" : true,
      "canSave" : true,
      "canStar" : true,
      "folderId" : 0,
      "folderTitle" : "General",
      "folderUid" : "",
      "folderUrl" : "",
      "hasAcl" : false,
      "isFolder" : false,
      "provisioned" : false,
      "provisionedExternalId" : "",
      "slug" : "gomon-dashboard",
      "type" : "db",
      "version" : 0
   },

   "message" : "Initialize gomon dashboard",
   "overwrite" : true
}
